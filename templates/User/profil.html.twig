{% extends 'base.html.twig' %}

{% block title %}
    Voici votre profil
{% endblock %}

{% block style %}
    .bloc1{
        background-image: url({{ asset('img/fond3.png') }});
    }
    #boutton{
        margin-top: 10vh;
    }
    img{
        width:8vw;
        text-align: left;
        float: left;
    }
    #modifier{
        text-align:center;
        margin:0;
    }
    #ami{
        height:6vh;
    }
{% endblock %}

{% block bloc1 %}
        <div class="col-md-4 info colonne">
            <div id="infojoueur">
                <div id="img">
                    <a href="{{ path("modifier_avatar") }}"><img src="{{ asset(joueur.UserImage) }}" alt=""></a>
                </div>
                <div id="joueur">
                    <h2>{{ joueur.Username }}</h2>
                    <p  id="modifier"><a href="{{ path("modifier_informations") }}">Modifier mes informations</a></p>
                </div>
            </div>


            <div id="stats">
                <h2>Statistiques</h2>
                <p>Nombre de parties jouées : {{ joueur.UserJouees }}</p>
                <p>Nombre de parties gagnées : {{ joueur.UserWin }}</p>
                <p>Nombre de parties perdues : {{ joueur.userJouees - joueur.UserWin }}</p>
                {% if joueur.userJouees != 0 %}
                    <p>Ratio : {{ ((joueur.UserWin / joueur.userJouees)|round(2, 'floor'))*100 }}% de victoire</p>
                {% endif %}
            </div>
        </div>
        <div class="col-md-4 info section">
            <h2>Amis</h2>
            {% for ami in amis %}
                {% if ami.IdAmi1 == joueur.Id %}
                        {% for tjoueurs in joueurs %}
                            {% if ami.IdAmi2 == tjoueurs.Id %}
                                <div id="ami">
                                    <a href="{{ path("joueur", {'id': tjoueurs.Id }) }}"><img class="avatars" src="{{ asset(tjoueurs.UserImage) }}" alt=""><p class="pseudojoueurs">{{  tjoueurs.Username }}<br/>Score : {{ tjoueurs.UserWin }}</p></a>
                                </div>

                                <hr>
                                {% endif %}
                        {% endfor %}
                {% endif %}
            {% endfor %}
            <p><a href="{{ path("rechercher_joueur") }}">Rechercher un joueur</a></p>
        </div>
        <div class="col-md-4 info section">
        <h2>Classement</h2>
            {% set numero = 1 %}
        {% for i in 1000..0 %}
            {% for classement in rang %}
                {% if classement.UserWin == i %}
            <a href="{{ path("joueur", {'id': classement.Id }) }}">
                <img class="avatars" src="{{ asset(classement.UserImage)}}" alt=""><p class="position"># {{ numero }} : {{ classement.Username }}</p><br/>
                <p> Score : {{ classement.UserWin }}</p>
            </a>
                    <hr>
                    {% set numero = numero + 1 %}
                {% endif %}
            {% endfor %}
        {% endfor %}
        </div>


{% endblock %}
